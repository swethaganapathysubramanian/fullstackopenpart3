{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/Person.js","components/Notification.js","App.js","index.js"],"names":["Persons","persons","filterVal","deletePerson","filteredPersons","filter","person","name","toLowerCase","includes","map","key","number","onClick","id","window","confirm","console","log","PersonForm","addName","newName","handleChange","newNumber","onSubmit","value","onChange","required","type","Filter","filterData","url","axios","get","then","response","data","nameObj","post","delete","newData","put","Notificaition","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setType","useEffect","personService","personList","catch","err","Notification","e","target","preventDefault","alert","some","obj","find","Name","changedObj","updatedData","setTimeout","result","concat","deletedPerson","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4193046c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Persons = ({persons, filterVal, deletePerson }) => {\r\n    const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(filterVal.toLowerCase()));\r\n    \r\n    const handleDelete = (id, name) => {\r\n        const decision = window.confirm(`Delete ${name}?`);\r\n        if (decision) {\r\n            deletePerson(id);\r\n        } else {\r\n            console.log(\"Do not Delete\")\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n        {filteredPersons.map(person => \r\n            <p key={person.name}>\r\n        { person.name } { person.number } <button onClick = {()=>handleDelete(person.id, person.name)}> Delete!</button>\r\n        </p>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons;","import React from 'react'\r\n\r\nconst PersonForm = ({addName, newName, handleChange, newNumber}) => {\r\n    return(\r\n    <form onSubmit={addName}>\r\n        <div>\r\n            <div>name: <input name=\"name\" value={newName} onChange={handleChange} required/></div>\r\n            <div>number: <input name=\"number\" value={newNumber} onChange={handleChange} required/></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\nconst Filter = ({filterVal, filterData}) => {\r\n    return(\r\n        <div>\r\n            Filter Shown with <input name=\"filter\" value={filterVal} onChange={filterData} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import axios from 'axios'\r\n\r\n//make app work with backend 3.9 and proxy added to package.json\r\nconst url = `/api/persons`\r\n\r\nconst getData = () => {\r\n    const request = axios.get(url)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst addData = (nameObj) => {\r\n    const request = axios.post(url,nameObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteData = (id) => {\r\n    const request = axios.delete(`${url}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updateData = (id, newData) => {\r\n    const request = axios.put(`${url}/${id}`, newData)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getData, addData, deleteData, updateData }","import React from 'react'\r\n\r\nconst Notificaition = ({message, type}) => {\r\n\r\n    if (message === null){\r\n        return null\r\n    }\r\n    \r\n    else {\r\n        if(type==='notification'){\r\n        return(\r\n            <div className=\"notification\">\r\n                {message}\r\n            </div>\r\n        )}\r\n        else{\r\n            return(\r\n        <div className = \"error\">\r\n            { message }\r\n        </div>\r\n\r\n    )}\r\n}\r\n}\r\n\r\nexport default Notificaition;","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/Person'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterVal, setFilter] = useState('')\n  const [message,setMessage] = useState(null)\n  const [type, setType] = useState(null)\n\n  useEffect(() => {\n    personService.getData()\n        .then(personList => setPersons(personList))\n        .catch(err=> console.log(err))\n  },[])\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    if (e.target.name === 'name') { setNewName(e.target.value); }\n    if (e.target.name === 'number') { setNewNumber(e.target.value); }\n    \n  }\n  \n  const addName = (e) => {\n    e.preventDefault();\n\n    if (newName === ' '){\n      alert(\"Enter Name\")\n    }\n\n    else if(newNumber === ' '){\n      alert(\"Enter Number\")\n    }\n    else {\n      const nameObj = {\n          name: newName,\n          number: newNumber\n    }\n    \n    if(persons.some(person => person.name === newName)){\n        const obj = persons.find(person => person.name === newName)\n        if(obj.number !== newNumber){\n          var decision = window.confirm(`${obj.Name} is already added to Phonebook. Replace old number with new Number?`)\n          \n          if(decision){\n          const changedObj = {...obj, number: newNumber}\n          personService.updateData(obj.id, changedObj)\n          .then(updatedData=> {\n              setPersons(persons.map(person => person.id !== obj.id? person: updatedData))\n              setMessage(`${newName}'s number is updated in the Phonebook`)\n              setType('notification')\n              setTimeout(() => {\n                setMessage(null)\n                setType(null)\n              }, 5000)\n          })\n          }\n        }\n        else if (obj.number === newNumber || newNumber === ' '){\n        alert(`${newName} already Exists in PhoneBook`)\n        } \n    }\n    else {\n      personService.addData(nameObj)\n      .then(result=>{\n        if (result.includes('Person validation failed')){\n          setMessage(result)\n          setType('notification')\n        }\n        else{\n        setPersons(persons.concat(nameObj))\n        setMessage(`${newName} is added to the Phonebook`)\n        setType('notification')\n        setTimeout(() => {\n          setMessage(null)\n          setType(null)\n        }, 5000)\n      }\n      })\n    }\n\n    setNewName('')\n    setNewNumber('')\n    setFilter('') \n  }\n}\n\n  const deletePerson = (id) => {\n      const deletedPerson = persons.find(person => person.id === id)\n       console.log(id)\n       personService.deleteData(id)\n      .then(setPersons(persons.filter(person=> person.id !== id)))\n         .catch(error => {\n           setMessage(\n             `Information '${deletedPerson.name}' was already removed from server`\n           )\n           setType('error')\n           setTimeout(() => {\n             setMessage(null)\n             setType(null)\n           }, 5000)\n\n         })\n  }\n\n  const filterData = (e) => {\n     setFilter(e.target.value);     \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} type={type} />\n      <Filter filterVal={filterVal} filterData = {filterData} />\n      <h2>Add a new contact</h2>\n      <PersonForm newName = {newName} newNumber={newNumber} handleChange ={handleChange} addName={addName} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} filterVal = {filterVal} deletePerson = {deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}